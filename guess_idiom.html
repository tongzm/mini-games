<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ‘´ å¤•é˜³çº¢çŒœçŒœä¹ ğŸ‘µ</title>
    <style>
        body {
            font-family: 'PingFang SC', serif;
            background-color: #FFEBEE; /* æµ…çº¢èƒŒæ™¯ */
            text-align: center;
            padding: 20px;
            color: #333;
        }
        h1 {
            color: #C62828;
            margin-bottom: 30px;
            text-shadow: 2px 2px #FFCDD2;
        }
        .question-box {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            border: 3px solid #E57373;
        }
        .question {
            font-size: 2em; /* è¶…å¤§å­— */
            font-weight: bold;
            color: #B71C1C;
            letter-spacing: 5px;
        }
        .hint {
            font-size: 1.2em;
            color: #666;
            margin-top: 10px;
        }
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        button {
            background-color: #FF9800; /* æ©™è‰²æŒ‰é’® */
            color: white;
            border: none;
            padding: 20px 0;
            font-size: 1.8em;
            border-radius: 10px;
            cursor: pointer;
            box-shadow: 0 4px #E65100;
            transition: transform 0.1s;
        }
        button:active {
            box-shadow: 0 2px #E65100;
            transform: translateY(2px);
        }
        button.correct {
            background-color: #4CAF50 !important;
            box-shadow: 0 4px #2E7D32 !important;
        }
        button.wrong {
            background-color: #9E9E9E !important;
            box-shadow: 0 4px #616161 !important;
        }
        #score-area {
            margin-top: 30px;
            font-size: 1.5em;
            color: #D84315;
        }
        #yuanbao {
            font-size: 1.5em;
        }
    </style>
</head>
<body>

    <h1>ğŸŒº å¤•é˜³çº¢çŒœçŒœä¹ ğŸŒº</h1>

    <div id="game-container">
        <div id="score-area">
            é‡‘å…ƒå®ï¼š<span id="score">0</span> <span id="yuanbao">ğŸ’°</span>
        </div>

        <div class="question-box">
            <div class="question" id="question-text">ä¸‡äº‹å¦‚__</div>
            <div class="hint" id="hint-text">ç¥æ‚¨æ ·æ ·äº‹æƒ…éƒ½é¡ºå¿ƒ</div>
        </div>

        <div class="options" id="options-container">
            <!-- é€‰é¡¹åœ¨è¿™é‡Œç”Ÿæˆ -->
        </div>
    </div>

    <div id="end-screen" style="display:none;">
        <h2 style="color: #D32F2F; font-size: 2.5em;">ğŸ‰ é—¯å…³æˆåŠŸï¼ğŸ‰</h2>
        <p style="font-size: 1.5em;">æ‚¨çœŸæ˜¯æ‰é«˜å…«æ–—ï¼</p>
        <p style="font-size: 1.2em; margin-top:20px;">ä¸€å…±è·å¾—ï¼š<span id="final-score" style="color:red;font-weight:bold;"></span> ä¸ªé‡‘å…ƒå®</p>
        <button onclick="restartGame()" style="width:100%; margin-top:30px; background:#D32F2F;">å†ç©ä¸€æ¬¡</button>
    </div>

    <script>
        // é¢˜åº“
        const questions = [
            { q: "ä¸‡äº‹å¦‚__", hint: "ç¥æ‚¨æ ·æ ·äº‹æƒ…éƒ½é¡ºå¿ƒ", ans: "æ„", opts: ["æ„", "ä¹‰", "å¼‚", "æ˜“"] },
            { q: "å¯¿æ¯”å—__", hint: "ç¥æ‚¨å¥åº·é•¿å¯¿", ans: "å±±", opts: ["å±±", "æµ·", "å¤©", "åœ°"] },
            { q: "__å¼€å¯Œè´µ", hint: "å½¢å®¹å®¶åº­å…´æ—ºç¹è£", ans: "èŠ±", opts: ["èŠ±", "å", "å‘", "ç”»"] },
            { q: "å¿ƒæƒ³äº‹__", hint: "å¿ƒé‡Œæƒ³çš„éƒ½èƒ½å®ç°", ans: "æˆ", opts: ["æˆ", "è¯š", "åŸ", "å‘ˆ"] },
            { q: "å²å²å¹³__", hint: "æ¯å¹´éƒ½å¹³å¹³å®‰å®‰", ans: "å®‰", opts: ["å®‰", "æŒ‰", "å²¸", "æ¡ˆ"] },
            { q: "äº”è°·ä¸°__", hint: "åº„ç¨¼å¤§ä¸°æ”¶", ans: "ç™»", opts: ["ç™»", "ç¯", "çª", "è¹¬"] },
            { q: "æ¬¢èšä¸€__", hint: "å…¨å®¶äººå¼€å¿ƒåœ°åœ¨ä¸€èµ·", ans: "å ‚", opts: ["å ‚", "ç³–", "å¡˜", "å”"] },
            { q: "çŸ¥è¶³å¸¸__", hint: "å¿«ä¹çš„ç§˜è¯€", ans: "ä¹", opts: ["ä¹", "å‹’", "äº†", "çƒ­"] }
        ];

        let currentQ = 0;
        let score = 0;

        // éŸ³æ•ˆç³»ç»Ÿ
        let audioCtx = null;

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
        }

        // ç­”å¯¹éŸ³æ•ˆ - æ¬¢å¿«ä¸Šå‡
        function playCorrectSound() {
            if (!audioCtx) initAudio();
            [523, 659, 784].forEach((freq, i) => {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.frequency.setValueAtTime(freq, audioCtx.currentTime + i * 0.08);
                gain.gain.setValueAtTime(0.25, audioCtx.currentTime + i * 0.08);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + i * 0.08 + 0.15);
                osc.start(audioCtx.currentTime + i * 0.08);
                osc.stop(audioCtx.currentTime + i * 0.08 + 0.15);
            });
        }

        // ç­”é”™éŸ³æ•ˆ - ä½æ²‰æç¤º
        function playWrongSound() {
            if (!audioCtx) initAudio();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = 'sine';
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.frequency.setValueAtTime(200, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(150, audioCtx.currentTime + 0.2);
            gain.gain.setValueAtTime(0.2, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.2);
            osc.start(audioCtx.currentTime);
            osc.stop(audioCtx.currentTime + 0.2);
        }

        // å®ŒæˆéŸ³æ•ˆ - èƒœåˆ©å·è§’
        function playVictorySound() {
            if (!audioCtx) initAudio();
            [523, 659, 784, 1047].forEach((freq, i) => {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                osc.frequency.setValueAtTime(freq, audioCtx.currentTime + i * 0.12);
                gain.gain.setValueAtTime(0.25, audioCtx.currentTime + i * 0.12);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + i * 0.12 + 0.25);
                osc.start(audioCtx.currentTime + i * 0.12);
                osc.stop(audioCtx.currentTime + i * 0.12 + 0.25);
            });
        }

        // ç‚¹å‡»éŸ³æ•ˆ
        function playClickSound() {
            if (!audioCtx) initAudio();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.frequency.setValueAtTime(600, audioCtx.currentTime);
            gain.gain.setValueAtTime(0.15, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.08);
            osc.start(audioCtx.currentTime);
            osc.stop(audioCtx.currentTime + 0.08);
        }

        function loadQuestion() {
            if (currentQ >= questions.length) {
                showEndScreen();
                return;
            }

            const q = questions[currentQ];
            document.getElementById('question-text').innerText = q.q;
            document.getElementById('hint-text').innerText = q.hint;

            const optsDiv = document.getElementById('options-container');
            optsDiv.innerHTML = '';

            // æ‰“ä¹±é€‰é¡¹é¡ºåº
            let shuffledOpts = [...q.opts].sort(() => 0.5 - Math.random());

            shuffledOpts.forEach(opt => {
                const btn = document.createElement('button');
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(btn, opt, q.ans);
                optsDiv.appendChild(btn);
            });
        }

        function checkAnswer(btn, choice, answer) {
            // é”å®šæ‰€æœ‰æŒ‰é’®ï¼Œé˜²æ­¢è¿ç‚¹
            const buttons = document.querySelectorAll('.options button');
            buttons.forEach(b => b.disabled = true);

            if (choice === answer) {
                btn.classList.add('correct');
                score += 10;
                document.getElementById('score').innerText = score;
                playCorrectSound(); // ç­”å¯¹éŸ³æ•ˆ
                // å»¶è¿Ÿè¿›å…¥ä¸‹ä¸€é¢˜
                setTimeout(() => {
                    currentQ++;
                    loadQuestion();
                }, 800);
            } else {
                btn.classList.add('wrong');
                playWrongSound(); // ç­”é”™éŸ³æ•ˆ
                // ç­”é”™ä¸æ‰£åˆ†ï¼Œæç¤ºä¸€ä¸‹æ­£ç¡®ç­”æ¡ˆï¼ˆå˜ç»¿ï¼‰
                buttons.forEach(b => {
                    if(b.innerText === answer) b.classList.add('correct');
                });
                setTimeout(() => {
                    currentQ++; // ç­”é”™ä¹Ÿè¿›ä¸‹ä¸€é¢˜ï¼Œä¸å¡å…³
                    loadQuestion();
                }, 1500);
            }
        }

        function showEndScreen() {
            document.getElementById('game-container').style.display = 'none';
            document.getElementById('end-screen').style.display = 'block';
            document.getElementById('final-score').innerText = score;
            playVictorySound(); // å®ŒæˆéŸ³æ•ˆ
        }

        function restartGame() {
            currentQ = 0;
            score = 0;
            document.getElementById('score').innerText = score;
            document.getElementById('game-container').style.display = 'block';
            document.getElementById('end-screen').style.display = 'none';
            loadQuestion();
        }

        // å¼€å§‹
        loadQuestion();
    </script>
</body>
</html>
